# Resource Utilization Reporting Operator Architecture
```mermaid
graph TD
    A[Deploy Operator] --> B[Apply ResourceAdjustmentPolicy CRD]
    B --> C[Reconcile Loop]
    C --> D[Update Configurations]
    D --> E[Namespaces, Frequency, PID Params, etc.]
    C --> F[Restart Recommender if Needed]
    F --> G[Recommender Loop]
    G --> H[Discover Pods/Containers]
    H --> I[Create ContainerState]
    I --> J[Start Goroutines]
    J --> K[Frequency Monitor]
    J --> L[Container Control Loop]
    K --> M[Calculate Utilization Error]
    M --> N[PID Controller]
    N --> O[Adjust Frequency]
    O --> P[Trigger Immediate Reconciler]
    L --> Q[Fetch Metrics]
    Q --> R[Prometheus Queries]
    R --> S[CPU/Memory Usage]
    R --> T[OOM Events]
    S --> U[Calculate Recommendations]
    T --> U
    U --> V[Apply Buffer/Min Values]
    V --> W[Update CRD Status]
    W --> X[Auto-Apply?]
    X -->|Yes| Y[Check Feature Gates]
    Y --> Z[Modify Pod Resources]
    Z --> AA[Resize Subresource]
    AA --> AB[Watch Resize Status]
    X -->|No| AC[End]
    W --> AD[Node Selection Logic]
    AD --> AE[Check Current Node]
    AE -->|Capacity OK| AF[Stay]
    AE -->|Capacity Exceeded| AG[Find New Node]
    AG --> AH[Score Nodes]
    AH --> AI[Update Migration Status]
